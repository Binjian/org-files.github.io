<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>git-training</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">git-training</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org4c51ebf">git short introduction</a>
<ul>
<li><a href="#org625decf">'git' not 'jit'</a></li>
<li><a href="#org9bb91c5">days of diff and patch, bitkeeper</a></li>
<li><a href="#org51cd106">Goal: distributed development (coooperative? depends!)</a></li>
<li><a href="#org881f9dc">linus torwald</a></li>
<li><a href="#org4dd8391">very similar to blockchain Merkle Tree (hash tree)</a>
<ul>
<li><a href="#org683f58d">https://stackoverflow.com/questions/46192377/why-is-git-not-considered-a-block-chain</a></li>
</ul>
</li>
<li><a href="#orgd918cb1">SHA is not a security feature, security is a by-product</a></li>
<li><a href="#orgc3b02d3">objects: blob, tree</a></li>
<li><a href="#org2a0752e">references: name for raw SHA-1 value; refs</a></li>
<li><a href="#orgd23a283">porcelan vs plumbing git cat-file -t -p</a></li>
<li><a href="#org68646f4">features: local, fast, efficient, distributed, snapshot not patches, changes</a></li>
<li><a href="#org6b5457b">HEAD/Detached?</a></li>
</ul>
</li>
<li><a href="#orga4bddf0">work-flow:</a>
<ul>
<li><a href="#org843a696">edit, stage(add), review, commit</a></li>
<li><a href="#orge85eb2a">git-flow</a>
<ul>
<li><a href="#org921f3af">https://danielkummer.github.io/git-flow-cheatsheet/index.zh_CN.html</a></li>
</ul>
</li>
<li><a href="#orgcbd7624">submodule</a>
<ul>
<li><a href="#org3110890">just update, track the new changes of the submodules (no change)</a></li>
<li><a href="#orgfd23e95">work on the submodule collaboratively</a></li>
<li><a href="#org0b84acf">caveats:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf517934">index/stage, repository, working tree, remote;</a>
<ul>
<li><a href="#org538735e">git hash-object -w;git cat-file -p/-t; git update-index &#x2013;add &#x2013;cacheinfo</a></li>
<li><a href="#org0205b75">file modes: 100644/100755/120000</a></li>
<li><a href="#orgcd59e53">git write-tree</a></li>
<li><a href="#orga67903c">git objects: content-addressable filesystem</a>
<ul>
<li><a href="#org12cc6fb">tree objects</a></li>
<li><a href="#org544a04f">blob</a></li>
<li><a href="#org5e37829">commit objects</a></li>
<li><a href="#orgb5173b9">tag</a></li>
</ul>
</li>
<li><a href="#org6832146">diff, snapshot</a>
<ul>
<li><a href="#org97b6c15">view/content</a></li>
</ul>
</li>
<li><a href="#org804d113">git commit: is a snapshot</a>
<ul>
<li><a href="#org273b61a">new commits often: history of your logic units of change, a story of history of the repository</a></li>
<li><a href="#orgd71d749">metadta: contents, messages of author, timestamp,</a></li>
<li><a href="#orgad33722">change history, &#x2013;amend</a></li>
</ul>
</li>
<li><a href="#orgab347b4">reference</a>
<ul>
<li><a href="#org0ada0d6">branch, HEAD, detached</a></li>
<li><a href="#org3e0d7c3">git reflog -2 HEAD/ HEAD^^</a></li>
<li><a href="#org5c910bc">git symbolic-ref</a></li>
<li><a href="#orgf2e7138">master^^</a></li>
<li><a href="#orgc9d13e7">tags： branch reference; never moves</a></li>
<li><a href="#org28768e0">remotes: git remote add origin git@gitlab.work:ai/ref.git: git push</a></li>
</ul>
</li>
<li><a href="#org59f7ac3">merge</a></li>
<li><a href="#org7ba6328">rebase</a></li>
<li><a href="#orga005dfa">stashing</a></li>
<li><a href="#org38d0530">log</a></li>
<li><a href="#orgda7df8d">commit amend, rename, gitignore, submodule,</a></li>
</ul>
</li>
<li><a href="#orgb3a8718">git advanced</a>
<ul>
<li><a href="#org5fb4a9a">git revert</a>
<ul>
<li><a href="#orga71ddc7">git revision specification</a></li>
</ul>
</li>
<li><a href="#orga1f4a92">git rebase</a></li>
<li><a href="#org98fe2c9">magit</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org4c51ebf" class="outline-2">
<h2 id="org4c51ebf">git short introduction</h2>
<div class="outline-text-2" id="text-org4c51ebf">
</div>
<div id="outline-container-org625decf" class="outline-3">
<h3 id="org625decf">'git' not 'jit'</h3>
</div>
<div id="outline-container-org9bb91c5" class="outline-3">
<h3 id="org9bb91c5">days of diff and patch, bitkeeper</h3>
</div>
<div id="outline-container-org51cd106" class="outline-3">
<h3 id="org51cd106">Goal: distributed development (coooperative? depends!)</h3>
</div>
<div id="outline-container-org881f9dc" class="outline-3">
<h3 id="org881f9dc">linus torwald</h3>
</div>
<div id="outline-container-org4dd8391" class="outline-3">
<h3 id="org4dd8391">very similar to blockchain Merkle Tree (hash tree)</h3>
<div class="outline-text-3" id="text-org4dd8391">
</div>
<div id="outline-container-org683f58d" class="outline-4">
<h4 id="org683f58d"><a href="https://stackoverflow.com/questions/46192377/why-is-git-not-considered-a-block-chain">https://stackoverflow.com/questions/46192377/why-is-git-not-considered-a-block-chain</a></h4>
</div>
</div>
<div id="outline-container-orgd918cb1" class="outline-3">
<h3 id="orgd918cb1">SHA is not a security feature, security is a by-product</h3>
</div>
<div id="outline-container-orgc3b02d3" class="outline-3">
<h3 id="orgc3b02d3">objects: blob, tree</h3>
</div>
<div id="outline-container-org2a0752e" class="outline-3">
<h3 id="org2a0752e">references: name for raw SHA-1 value; refs</h3>
</div>
<div id="outline-container-orgd23a283" class="outline-3">
<h3 id="orgd23a283">porcelan vs plumbing git cat-file -t -p</h3>
</div>
<div id="outline-container-org68646f4" class="outline-3">
<h3 id="org68646f4">features: local, fast, efficient, distributed, snapshot not patches, changes</h3>
</div>
<div id="outline-container-org6b5457b" class="outline-3">
<h3 id="org6b5457b">HEAD/Detached?</h3>
</div>
</div>
<div id="outline-container-orga4bddf0" class="outline-2">
<h2 id="orga4bddf0">work-flow:</h2>
<div class="outline-text-2" id="text-orga4bddf0">
</div>
<div id="outline-container-org843a696" class="outline-3">
<h3 id="org843a696">edit, stage(add), review, commit</h3>
</div>
<div id="outline-container-orge85eb2a" class="outline-3">
<h3 id="orge85eb2a">git-flow</h3>
<div class="outline-text-3" id="text-orge85eb2a">
</div>
<div id="outline-container-org921f3af" class="outline-4">
<h4 id="org921f3af"><a href="https://danielkummer.github.io/git-flow-cheatsheet/index.zh_CN.html">https://danielkummer.github.io/git-flow-cheatsheet/index.zh_CN.html</a></h4>
</div>
</div>
<div id="outline-container-orgcbd7624" class="outline-3">
<h3 id="orgcbd7624">submodule</h3>
<div class="outline-text-3" id="text-orgcbd7624">
</div>
<div id="outline-container-org3110890" class="outline-4">
<h4 id="org3110890">just update, track the new changes of the submodules (no change)</h4>
<div class="outline-text-4" id="text-org3110890">
</div>
<ul class="org-ul">
<li><a id="orge3fd20d"></a>manually : git fetch<br /></li>
<li><a id="org96a1338"></a>automatically: git submodule update &#x2013;remote<br />
<ul class="org-ul">
<li><a id="orga4a39b9"></a>set specific branch .gitmodules submodule.submudle<sub>name.branch</sub> stable<br /></li>
<li><a id="org71e8434"></a>-f: tracked; no -f locally, not tracked.<br /></li>
<li><a id="org1f2f1a9"></a>git config status.submodulesummary 1<br /></li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-orgfd23e95" class="outline-4">
<h4 id="orgfd23e95">work on the submodule collaboratively</h4>
<div class="outline-text-4" id="text-orgfd23e95">
</div>
<ul class="org-ul">
<li><a id="orgfa30339"></a>git submodule update &#x2013;remote &#x2013;rebase/&#x2013;merge<br /></li>
<li><a id="org4dab5c9"></a>caveats: has to commit locally.<br /></li>
<li><a id="orgdaa5a57"></a>publishing submodule changes: git push &#x2013;recurse-submodules=check/on-demand<br /></li>
</ul>
</div>
<div id="outline-container-org0b84acf" class="outline-4">
<h4 id="org0b84acf">caveats:</h4>
<div class="outline-text-4" id="text-org0b84acf">
</div>
<ul class="org-ul">
<li><a id="org972738e"></a>accidental revert: git submodule update &#x2013;remote to update .gitmodule; and commit in parent projects.<br /></li>
<li><a id="orge064bbc"></a>cannot merge: no submodule merge<br /></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgf517934" class="outline-2">
<h2 id="orgf517934">index/stage, repository, working tree, remote;</h2>
<div class="outline-text-2" id="text-orgf517934">
</div>
<div id="outline-container-org538735e" class="outline-3">
<h3 id="org538735e">git hash-object -w;git cat-file -p/-t; git update-index &#x2013;add &#x2013;cacheinfo</h3>
</div>
<div id="outline-container-org0205b75" class="outline-3">
<h3 id="org0205b75">file modes: 100644/100755/120000</h3>
</div>
<div id="outline-container-orgcd59e53" class="outline-3">
<h3 id="orgcd59e53">git write-tree</h3>
</div>
<div id="outline-container-orga67903c" class="outline-3">
<h3 id="orga67903c">git objects: content-addressable filesystem</h3>
<div class="outline-text-3" id="text-orga67903c">
</div>
<div id="outline-container-org12cc6fb" class="outline-4">
<h4 id="org12cc6fb">tree objects</h4>
</div>
<div id="outline-container-org544a04f" class="outline-4">
<h4 id="org544a04f">blob</h4>
</div>
<div id="outline-container-org5e37829" class="outline-4">
<h4 id="org5e37829">commit objects</h4>
<div class="outline-text-4" id="text-org5e37829">
</div>
<ul class="org-ul">
<li><a id="org20ef891"></a><a href="https://git-scm.com/book/en/v2/Git-Internals-Git-Objects">https://git-scm.com/book/en/v2/Git-Internals-Git-Objects</a><br /></li>
</ul>
</div>
<div id="outline-container-orgb5173b9" class="outline-4">
<h4 id="orgb5173b9">tag</h4>
</div>
</div>
<div id="outline-container-org6832146" class="outline-3">
<h3 id="org6832146">diff, snapshot</h3>
<div class="outline-text-3" id="text-org6832146">
</div>
<div id="outline-container-org97b6c15" class="outline-4">
<h4 id="org97b6c15">view/content</h4>
</div>
</div>
<div id="outline-container-org804d113" class="outline-3">
<h3 id="org804d113">git commit: is a snapshot</h3>
<div class="outline-text-3" id="text-org804d113">
</div>
<div id="outline-container-org273b61a" class="outline-4">
<h4 id="org273b61a">new commits often: history of your logic units of change, a story of history of the repository</h4>
</div>
<div id="outline-container-orgd71d749" class="outline-4">
<h4 id="orgd71d749">metadta: contents, messages of author, timestamp,</h4>
</div>
<div id="outline-container-orgad33722" class="outline-4">
<h4 id="orgad33722">change history, &#x2013;amend</h4>
</div>
</div>
<div id="outline-container-orgab347b4" class="outline-3">
<h3 id="orgab347b4">reference</h3>
<div class="outline-text-3" id="text-orgab347b4">
</div>
<div id="outline-container-org0ada0d6" class="outline-4">
<h4 id="org0ada0d6">branch, HEAD, detached</h4>
<div class="outline-text-4" id="text-org0ada0d6">
</div>
<ul class="org-ul">
<li><a id="org28ca794"></a>branch: reference to the head of a line of work&#x2013;&gt;git update-ref refs/heads/master<br /></li>
<li><a id="org8f32f86"></a>HEAD: symbolic reference (pointer to a reference); or SHA-1 value of a git object<br /></li>
<li><a id="org05158a6"></a>detatched HEAD: cannot commit (checkout a commit/tag/remote branch)<br />
<ul class="org-ul">
<li><a id="org81660ee"></a>to save : git checkout -b foo/ git branch foo/ git tag foo<br /></li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-org3e0d7c3" class="outline-4">
<h4 id="org3e0d7c3">git reflog -2 HEAD/ HEAD^^</h4>
</div>
<div id="outline-container-org5c910bc" class="outline-4">
<h4 id="org5c910bc">git symbolic-ref</h4>
</div>
<div id="outline-container-orgf2e7138" class="outline-4">
<h4 id="orgf2e7138">master^^</h4>
</div>
<div id="outline-container-orgc9d13e7" class="outline-4">
<h4 id="orgc9d13e7">tags： branch reference; never moves</h4>
</div>
<div id="outline-container-org28768e0" class="outline-4">
<h4 id="org28768e0">remotes: git remote add origin git@gitlab.work:ai/ref.git: git push</h4>
</div>
</div>
<div id="outline-container-org59f7ac3" class="outline-3">
<h3 id="org59f7ac3">merge</h3>
</div>
<div id="outline-container-org7ba6328" class="outline-3">
<h3 id="org7ba6328">rebase</h3>
</div>
<div id="outline-container-orga005dfa" class="outline-3">
<h3 id="orga005dfa">stashing</h3>
</div>
<div id="outline-container-org38d0530" class="outline-3">
<h3 id="org38d0530">log</h3>
</div>
<div id="outline-container-orgda7df8d" class="outline-3">
<h3 id="orgda7df8d">commit amend, rename, gitignore, submodule,</h3>
</div>
</div>
<div id="outline-container-orgb3a8718" class="outline-2">
<h2 id="orgb3a8718">git advanced</h2>
<div class="outline-text-2" id="text-orgb3a8718">
</div>
<div id="outline-container-org5fb4a9a" class="outline-3">
<h3 id="org5fb4a9a">git revert</h3>
<div class="outline-text-3" id="text-org5fb4a9a">
</div>
<div id="outline-container-orga71ddc7" class="outline-4">
<h4 id="orga71ddc7">git revision specification</h4>
<div class="outline-text-4" id="text-orga71ddc7">
</div>
<ul class="org-ul">
<li><a id="orge64769c"></a>git log, git reset, git chery-pick<br /></li>
</ul>
</div>
</div>
<div id="outline-container-orga1f4a92" class="outline-3">
<h3 id="orga1f4a92">git rebase</h3>
</div>
<div id="outline-container-org98fe2c9" class="outline-3">
<h3 id="org98fe2c9">magit</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 30.0.50 (<a href="https://orgmode.org">Org</a> mode 9.6.7)</p>
</div>
</body>
</html>